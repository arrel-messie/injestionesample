# Druid Schema Configuration
# This file defines dimensions, metrics, transforms, and index specifications

dimensions:
  - type: string
    name: uetr
  - type: string
    name: rtgs_business_date
  - type: string
    name: tx_type
  - type: string
    name: status
  - type: string
    name: currency
  - type: string
    name: payer_access_manager_bic
  - type: string
    name: payer_access_manager_id
  - type: string
    name: payee_access_manager_bic
  - type: string
    name: reason_code
  - type: string
    name: payment_type_code

metrics:
  - type: count
    name: count
  - type: doubleSum
    name: amount_sum
    fieldName: amount

transforms:
  - name: tx_type
    expression: upper(txType)
  - name: status
    expression: upper(status)
  - name: currency
    expression: upper(currency)
  - name: payer_access_manager_bic
    expression: upper(payerAccessManagerBic)
  - name: payee_access_manager_bic
    expression: upper(payeeAccessManagerBic)
  - name: reason_code
    expression: upper(reasonCode)
  - name: payment_type_code
    expression: upper(paymentTypeCode)

indexSpec:
  bitmapType: roaring
  dimensionCompression: lz4
  metricCompression: lz4
  longEncoding: longs

