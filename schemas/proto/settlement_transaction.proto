syntax = "proto3";

package com.company.settlement;

option java_package = "com.company.settlement";
option java_outer_classname = "SettlementProto";

// Message principal pour les transactions de settlement
message Transaction {
  // Timestamp de la transaction
  int64 settlement_timestamp = 1;
  
  // Informations de paiement
  PaymentInfo payment = 2;
  
  // Informations de settlement
  SettlementInfo settlement = 3;
  
  // Informations de funding
  FundingInfo funding = 4;
  
  // Informations de defunding
  DefundingInfo defunding = 5;
  
  // Identifiant unique de transaction
  string uetr = 6;
}

message PaymentInfo {
  // Identifiants des access managers
  int64 debited_access_manager_identifier = 1;
  int64 credited_access_manager_identifier = 2;
  
  // Montant et devise
  double payment_amount = 3;
  string currency_code = 4;
  
  // Identifiants des parties
  string payer_identifier = 5;
  string payee_identifier = 6;
  
  // Identifiant de paiement en ligne
  string online_payment_identifier = 7;
}

message SettlementInfo {
  // Identifiant de la transaction de settlement
  int64 settlement_transaction_identifier = 1;
  
  // Type et statut
  string settlement_transaction_type = 2;
  string settlement_transaction_status = 3;
}

message FundingInfo {
  // Identifiant de funding en ligne
  string online_funding_identifier = 1;
  
  // Date business RTGS
  string rtgs_business_date = 2;
}

message DefundingInfo {
  // Identifiant de defunding en ligne
  string online_defunding_identifier = 1;
  
  // Date business RTGS
  string rtgs_business_date = 2;
}
